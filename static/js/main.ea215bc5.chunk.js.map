{"version":3,"sources":["DataHandling.js","components/USmap/USstate.js","components/D3blackbox.js","components/USmap/Legend.js","components/USmap/USmap.js","components/Controls/DropDown/DropDown.js","components/Controls/index.js","components/DataContent/StateTitle.js","components/LineGraph/AvgLine.js","components/LineGraph/XAxis.js","components/LineGraph/YAxis.js","components/LineGraph/Legend.js","components/LineGraph/LineGraph.js","components/DataContent/DataContent.js","App.js","serviceWorker.js","index.js"],"names":["cleanUSStateName","d","code","id","Number","name","ChoroplethColors","USstate","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","pRef","React","createRef","updateUSstateFilter","reset","setState","USstateFilter","State_Name","notifyUpdate","selectUSstate","event","newState","stateName","_","find","USstateNames","parseInt","current","attributes","title","value","state","_window$location$hash","window","location","hash","replace","split","slicedToArray","filters","join","updateDataFilter","nextProps","nextState","_this$props","zoomToState","_this2","_this$props2","geoPath","feature","quantize","statePerCapitaValues","phiPerEnrolleeValues","color","react_default","a","createElement","style","fill","className","onMouseOver","perCapitaChange","percentChange","years","formattedYears","each","b","push","year","perCapitaMean","d3","phiPerEnrolleeChange","phiYears","phiFormattedYears","phiPerEnrolleeMean","onHover","toFixed","bind","onClick","ref","Component","D3blackbox","D3render","_React$Component","Blackbox","_getPrototypeOf2","_len","arguments","length","args","Array","_key","apply","concat","anchor","inherits","createClass","key","x","y","transform","domain","range","xScale","rangeRound","Legend","opacity","height","width","map","i","stroke","fontSize","fontWeight","USmap","projection","scale","row","statePerCapita","stateId","sortedCapitas","mean","_this$state","hover","usTopoJson","values","us","USstateMesh","topojson","objects","states","USstates","features","perCapitaValueMap","fromPairs","USmap_USstate","strokeLineJoin","USmap_Legend","translate","statePaths","centroid","objectSpread","DropDown","selected","target","console","log","label","capitalize","toUpperCase","toggleNames","onChange","_addOption","Controls","data","Set","Controls_DropDown_DropDown","from","selectedUSstate","StateTitle","AvgLine","_ref","bottomMargin","lineColor","yScale","line","XAxis","axis","tickFormat","ticks","YAxis","lineColors","lineTitles","cx","cy","r","LineGraph","days","amount","score","yAmount","toLocaleString","mentalHealthDays","physHealthDays","genHealthScore","USmentalMean","USphysicalMean","yScaleCapita","capitaLine","mentalData","physData","genData","capitaData","mentalHealthData","numDaysPerYear","yearValue","physHealthData","genHealthData","scorePerYear","scoreValue","perCapitaSlice","dollarValue","slice","genHealthMean","LineGraph_Legend","LineGraph_AvgLine","strokeWidth","circleMark","LineGraph_XAxis","LineGraph_YAxis","wordSpacing","dy","href","DataContent","USperCapitaMean","phiPerCapitaMean","capitaMeanPercentage","phiMeanPercentage","capitaMean","phiMean","USavgPhi","cap1","cap2","cap3","cap4","cap5","cap6","st1","st2","st3","st4","st5","st6","USavgCapita","DataContent_StateTitle","components_LineGraph_LineGraph","App","filter","filteredBy","stateLabel","onStatUpdate","sampleData","mentalHealth","physHealth","genHealth","phiPerEnrollee","assertThisInitialized","callback","undefined","noop","Promise","all","then","_ref2","loadData","getStateId","Average_Annual_Percent_Growth","2001","Y2001","2002","Y2002","2003","Y2003","2004","Y2004","2005","Y2005","2006","Y2006","2007","Y2007","2008","Y2008","2009","Y2009","2010","Y2010","2011","Y2011","2012","Y2012","2013","Y2013","2014","Y2014","2015","Y2015","2016","Y2016","2017","Y2017","getStateName","_this3","genHealthDays","stateValues","stateValue","statePerCapitaValue","phiPerEnrolleeValue","formattedPerCapitaYears","capita","sortBy","USperCapita","formattedPhiYears","test","mentalMean","physicalMean","marginBottom","marginTop","components_Controls","components_USmap_USmap","stateData","components_DataContent_DataContent","Boolean","hostname","match","ReactDOM","render","src_App","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.ea215bc5.chunk.js","sourcesContent":["import * as d3 from 'd3';\nimport _ from 'lodash';\n\nconst cleanUSStateName = d => ({\n    code: d.code,\n    id: Number(d.id),\n    name: d.name\n});\n\n\n// _.noop returns undefined\nexport const loadData = (callback = _.noop) => {\n    Promise.all([\n        d3.json(\"data/us.json\"), //state paths\n        d3.csv(\"data/sample.csv\"),\n        d3.csv(\"data/state_ment_health.csv\"),\n        d3.csv(\"data/state_phys_health.csv\"),\n        d3.csv(\"data/state_gen_health.csv\"),\n        d3.csv(\"data/state_per_capita.csv\"),\n        d3.csv(\"data/phi_per_enrollee.csv\"),\n        d3.tsv(\"data/us-state-names.tsv\", cleanUSStateName)\n    ]).then(([us,\n              sampleData,\n              mentalHealth,\n              physHealth,\n              genHealth,\n              statePerCapita,\n              phiPerEnrollee,\n              USstateNames]) => {\n        console.log('hello data');\n        callback({\n          usTopoJson: us,\n          sampleData: sampleData,\n          mentalHealth: mentalHealth,\n          physHealth: physHealth,\n          genHealth: genHealth,\n          statePerCapita: statePerCapita,\n          phiPerEnrollee: phiPerEnrollee,\n          USstateNames: USstateNames\n        });\n    });\n};","// src/components/USstate/USstate.js\nimport React, { Component } from \"react\";\nimport * as d3 from 'd3';\nimport _ from \"lodash\";\n\nconst ChoroplethColors = [\n    'rgb(222,235,247)',\n    'rgb(198,219,239)',\n    'rgb(158,202,225)',\n    'rgb(107,174,214)',\n    'rgb(66,146,198)',\n    'rgb(33,113,181)',\n    'rgb(8,81,156)',\n    'rgb(8,48,107)'\n];\n\nconst blankColor = 'rgb(198,219,239)';\n\nclass USstate extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      USstateFilter: () => true,\n      USstate: \"*\",\n    }\n  }\n\n\n  // need to create for interaction between d3 and react\n  pRef = React.createRef();\n\n  componenetDidMount() {\n    let [USstate] = window.location.hash\n            .replace(\"#\", \"\")\n            .split(\"-\");\n\n    if (USstate !== \"*\" && USstate) {\n      this.updateUSstateFilter(USstate);\n    }\n  }\n\n  updateUSstateFilter = (USstate, reset) => {\n\n    let filter = d => d.State_Name === USstate;\n\n    this.setState(\n      {\n        USstateFilter: filter,\n        USstate: USstate,\n      },\n      () => this.notifyUpdate()\n    );\n  }\n\n  // Rudimentary \"routing\"\n  notifyUpdate(){\n    window.location.hash = [this.state.USstate || \"*\"].join(\"-\");\n    this.props.updateDataFilter(\n      (filters => {\n        return d => filters.USstateFilter(d);\n      })(this.state),\n      {\n        USstate: this.state.USstate\n      }\n    );\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    const { zoomToState, value } = this.props;\n    return zoomToState !== nextProps.zoomToState || value !== nextProps.value;\n  }\n\n  getStateName() {\n    return  _.find(this.props.USstateNames, { id: parseInt(this.pRef.current.attributes.title.value) }).name;\n  }\n\n  // getPerCapitaChange() {\n  //   return _.find(this.props.statePerCapitaValues, {state: stateName}).percentChange;\n  //\n  // }\n\n\n  selectUSstate = (event, newState) => {\n    const stateName = _.find(this.props.USstateNames, { id: parseInt(this.pRef.current.attributes.title.value) }).name;\n    // this.props.updateDataFilter(stateName, !newState)\n    this.updateUSstateFilter(stateName)\n  };\n\n  render() {\n    const { value, geoPath, feature, quantize, statePerCapitaValues, phiPerEnrolleeValues } = this.props;\n    let color = blankColor;\n    if (value) {\n      color = ChoroplethColors[quantize(value)];\n    }\n\n    const highlight = () => {\n\n      const stateName = _.find(this.props.USstateNames, { id: parseInt(this.pRef.current.attributes.title.value) }).name;\n      const perCapitaChange = _.find(statePerCapitaValues, {state: stateName}).percentChange;\n\n      const years = _.find(statePerCapitaValues, {state: stateName}).years\n      const formattedYears = []\n        _.each(years, (a,b) => {\n          formattedYears.push({'year': a});\n        });\n\n      const perCapitaMean = d3.mean(formattedYears, (d) => {\n        return d.year;\n      });\n\n      const phiPerEnrolleeChange = _.find(phiPerEnrolleeValues, {state:stateName}).percentChange;\n      const phiYears = _.find(phiPerEnrolleeValues, {state: stateName}).years;\n      const phiFormattedYears = []\n        _.each(phiYears, (a,b) => {\n          phiFormattedYears.push({'year': a});\n        });\n      const phiPerEnrolleeMean = d3.mean(phiFormattedYears, (d) => {\n        return d.year;\n      });\n\n      this.props.onHover(\n        stateName,\n        perCapitaChange,\n        perCapitaMean.toFixed(2),\n        phiPerEnrolleeChange,\n        phiPerEnrolleeMean.toFixed(2)\n      );\n    }\n\n    return (\n      <path d={geoPath(feature)}\n            style={{fill:color}}\n            title={feature.id}\n            className=\"state-borders\"\n            onMouseOver={highlight.bind(this)}\n            onClick={this.selectUSstate.bind(this)}\n            ref={this.pRef}\n\n      />\n    );\n  }\n}\n\nexport default USstate;","import React from \"react\";\n/* Blackbox Higher Order Component, this returns another react component, it's like an object factory\nThis is wrapper for d3 code so it can be rendered in the react app, gives control of the DOM back to D3\nhttps://github.com/Swizec/d3blackbox */\n\nexport default function D3blackbox(D3render) {\n  return class Blackbox extends React.Component {\n    anchor = React.createRef();\n\n    componentDidMount() {\n      D3render.call(this);\n    }\n    componentDidUpdate() {\n      D3render.call(this);\n    }\n\n    render() {\n      const { x, y } = this.props;\n      return <g transform={`translate(${x}, ${y})`} ref={this.anchor} />;\n    }\n  };\n}\n","// src/components/USstate/Legend.js\nimport D3blackbox from \"../D3blackbox\";\nimport * as d3 from \"d3\";\nimport React, {Component} from \"react\";\nimport _ from \"lodash\";\n\nconst color = d3.scaleThreshold().domain(d3.range(1, 10)).range(d3.schemeGreens[9]);\n\nconst ChoroplethColors = [\n    'rgb(247,251,255)',\n    'rgb(222,235,247)',\n    'rgb(198,219,239)',\n    'rgb(158,202,225)',\n    'rgb(107,174,214)',\n    'rgb(66,146,198)',\n    'rgb(33,113,181)',\n    'rgb(8,81,156)',\n    'rgb(8,48,107)'\n];\n\nconst xScale = d3.scaleLinear()\n  .domain([1, 10])\n  .rangeRound([1,10]);\n\n\nclass Legend extends Component {\n\n  render() {\n\n    return (\n      <g>\n        <rect x={0} y={360} fill={\"white\"} opacity={.5} height={70} width={500} />\n        {ChoroplethColors.map(function (d,i) {\n          if (d[0] == null) d[0] = xScale.domain()[0];\n          if (d[1] == null) d[1] = xScale.domain()[1];\n          return (\n            <g key={i}>\n              <rect\n                style={{fill: ChoroplethColors[i], width: 20, height: 20, stroke: 'black'}}\n                x={170+20*i}\n                y={370}\n                title={null}\n              />\n              <text fontSize={10} x={175 +20*i} y={400}>{i}%</text>\n            </g>\n          )\n          }\n        )};\n        <text x={110} y={415} fontSize={11} fontWeight={\"bold\"}>Annual Avg. Growth From Medicaid Enrollment 2000-2017</text>\n      </g>\n\n    );\n  };\n}\n\nexport default Legend;","// src/components/USmap/USmap.js\n\nimport React, { Component } from 'react';\nimport * as d3 from 'd3';\nimport * as topojson from 'topojson';\nimport _ from 'lodash';\n\nimport USstate from './USstate';\nimport Legend from './Legend';\n\nclass USmap extends Component {\n  constructor(props) {\n    super(props);\n\n    const projection = d3.geoAlbersUsa().scale([1000]); // scale things down so see entire US;\n    this.state = {\n      geoPath: d3.geoPath().projection(projection),\n      quantize: d3.scaleQuantize().range(d3.range(9)),\n      projection\n    };\n  }\n\n  // getDerivedStateFromProps gets called on every component render,\n  // otherwise viz would be one update behind, however,\n  // need to avoid complex calculation, check performance, use memoization, etc\n  static getDerivedStateFromProps(props, state) {\n    let { projection, quantize, geoPath } = state;\n    // need for zooming\n    projection.translate([props.width/2 + 20, props.height/2])\n      .scale(props.width * 1.2);\n\n    // remove ! to enable zoom\n    if (props.zoomToState == 'all') {\n      projection.scale(props.width * 1.2);\n    }\n    else if (props.zoomToState && props.usTopoJson) {\n\n      const us = props.usTopoJson,\n        statePaths = topojson.feature(us, us.objects.states).features,\n        id = _.find(props.USstateNames, { name: props.zoomToState }).id;\n        projection.scale(props.width * 4.5);\n\n      const centroid = geoPath.centroid(_.find(statePaths, { id: id })),\n        translate = projection.translate();\n\n        projection.translate([\n          translate[0] - centroid[0] + props.width/2 + 20,\n          translate[1] - centroid[1] + props.height/2 + 50\n      ]);\n    }\n\n    if (props.values) {\n      quantize.domain([0,9]);\n    }\n\n    return {\n      ...state,\n      projection,\n      quantize\n    };\n  }\n\n  getValue(id) {\n    const row = _.find(this.props.statePerCapita, {stateId: id});\n\n    if (row) {\n\n      return row.percentChange;\n    }\n    return null;\n  }\n\n  // Us if we wanted to show per capita $$ for choropleth\n  getDollarValue(id) {\n\n    debugger;\n    const name = _.find(this.props.USstateNames, {stateId: id}).name;\n    const row = _.find(this.props.sortedCapitas, {name: name})\n    if (row) {\n\n      return row.mean;\n    }\n    return null;\n  }\n\n\n  render() {\n\n    const { geoPath, quantize, hover } = this.state,\n      { usTopoJson, values, zoomToState, updateDataFilter, onHover, statePerCapitaValues, phiPerEnrolleeValues,\n      sortedCapitas} = this.props;\n\n    if (!usTopoJson) {\n      return null;\n    } else {\n\n      const us = usTopoJson,\n        USstateMesh = topojson.mesh(\n          us,\n          us.objects.states,\n          (a,b) => a !== b\n        ),\n        USstates = topojson.feature(us, us.objects.states).features;\n\n        // console.log('values', values);\n        const stateValueMap = _.fromPairs(\n          values.map(d => [d.stateId, d.percentChange])\n        );\n      const perCapitaValueMap = _.fromPairs(\n          statePerCapitaValues.map(d => [d.stateId, d.percentChange])\n        );\n\n      const perCapitaDollarValueMap = _.fromPairs(\n          sortedCapitas.map(d => [d.id, d.mean])\n        );\n\n        // console.log('values', stateValueMap);\n      return (\n\n        <g className=\"states\">\n          {USstates.map(feature => (\n            <USstate\n              geoPath={geoPath}\n              feature={feature}\n              zoomToState={zoomToState}\n              key={feature.id}\n              value={perCapitaValueMap[feature.id]}\n              // dollarValue={perCapitaDollarValueMap[feature.id]}\n              quantize={quantize}\n              updateDataFilter={updateDataFilter}\n              stateName={feature.id}\n              USstateNames={this.props.USstateNames}\n              hover={hover}\n              onHover={onHover}\n              statePerCapitaValues={statePerCapitaValues}\n              phiPerEnrolleeValues={phiPerEnrolleeValues}\n            />\n          ))};\n          <path d={geoPath(USstateMesh)}\n                style={{\n                fill: \"none\",\n                stroke: \"#023446\",\n                strokeLineJoin: \"round\"\n                }}\n          />\n          <Legend x={0} y={0} />\n\n        </g>\n      );\n    }\n  }\n}\nexport default USmap;","import React from \"react\";\n\nclass DropDown extends React.Component {\n\n  selectUSstate = ( event, newState ) => {\n    // this.setState({value: event.target.value});\n    let selected = event.target.value;\n    console.log('selected->', event.target.value, selected, newState);\n    this.props.updateDataFilter( selected, !newState);\n  };\n\n  _addOption(name){\n    if (name !== \"\") {\n      let key = `toggle-${name}`,\n      label = name;\n\n    if (this.props.capitalize) {\n      label = label.toUpperCase();\n    }\n\n    return <option\n              label={label}\n              name={name}\n              key={key}\n              value={ name }\n            >\n              {name}\n            </option>\n    }\n  }\n\n  render() {\n    const {toggleNames} = this.props;\n    return (\n      <div id=\"stateDropDown\">\n        <select onChange={this.selectUSstate}>\n          <option value=\"all\">Select State</option>\n          <option value=\"all\">Show All States</option>\n          {toggleNames.map(name => this._addOption(name))}\n        </select>\n      </div>\n    )\n\n\n  }\n}\n\nexport default DropDown;","import React from \"react\";\nimport DropDown from './DropDown/DropDown';\n\nclass Controls extends React.Component {\n  state = {\n    USstateFilter: () => true,\n    USstate: \"*\"\n  }\n\n  componenetDidMount() {\n    let [USstate] = window.location.hash\n            .replace(\"#\", \"\")\n            .split(\"-\");\n\n    if (USstate !== \"*\" && USstate) {\n        this.updateUSstateFilter(USstate);\n    }\n\n  }\n\n  updateUSstateFilter = (USstate, reset) => {\n\n    let filter = d => d.State_Name === USstate;\n\n    this.setState(\n      {\n        USstateFilter: filter,\n        USstate: USstate\n      },\n      () => this.notifyUpdate()\n    );\n  }\n\n  // Rudimentary \"routing\"\n  notifyUpdate(){\n    window.location.hash = [this.state.USstate || \"*\"].join(\"-\");\n    this.props.updateDataFilter(\n      (filters => {\n        return d => filters.USstateFilter(d);\n      })(this.state),\n      {\n        USstate: this.state.USstate\n      }\n    );\n  }\n\n  render() {\n    const { data } = this.props;\n    const USstates = new Set(data.map(d => d.State_Name));\n\n    return (\n      <div>\n        <DropDown\n          data={data}\n          toggleNames={Array.from(USstates.values())}\n          selectedUSstate={this.state.USstate}\n          updateDataFilter={this.updateUSstateFilter}\n          />\n     </div>\n    );\n  }\n}\n\nexport default Controls;","// src/components/DataContent/StateTitle.js\n\nimport React, { Component } from 'react';\nimport * as d3 from 'd3';\nimport _ from 'lodash';\n\nclass StateTitle extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const { zoomToState, values } = this.props;\n\n    return (\n      <g>\n        <text x={520} y={30} className={\"stateTitle\"}>{zoomToState}</text>\n      </g>\n    )\n  }\n}\n\nexport default StateTitle;","// src/components/LineGraph/AvgLine.js\n\nimport React from \"react\";\nimport * as d3 from \"d3\";\n\nconst AvgLine = ({\n  value,\n  width,\n  height,\n  x,\n  y,\n  bottomMargin,\n  mean,\n  lineColor\n}) => {\n  const yScale = d3\n          .scaleLinear()\n          .domain([0, 30])\n          .range([height - y - bottomMargin, 0]),\n          line = d3.line()([[0, 5], [width, 5]]);\n\n  const avgValue = mean;\n\n  const translate = `translate(${20}, ${yScale(avgValue)})`,\n        label = `US avg: ${mean}`;\n\n  return (\n      <g className=\"avgLine\" transform={translate}>\n        <path d={line} fill={\"none\"} stroke={lineColor}/>\n      </g>\n  );\n};\n\nexport default AvgLine;","// src/components/LineGraph/XAxis.js\n\nimport * as d3 from \"d3\";\nimport D3blackbox from \"../D3blackbox\";\n\nconst XAxis = D3blackbox(function() {\n\n  const scale = d3\n    .scaleLinear()\n    .domain([2011, 2017])\n    .range([0, 400]);\n  const axis = d3.axisBottom(scale)\n                .tickFormat(d3.format('d'))\n                .ticks(7);\n\n  d3.select(this.anchor.current).call(axis);\n});\n\nexport default XAxis;","import * as d3 from \"d3\";\nimport D3blackbox from \"../D3blackbox\";\n\nconst YAxis = D3blackbox(function() {\n\n  const scale = d3\n    .scaleLinear()\n    .domain([31, 0])\n    .range([0, 250]);\n  const axis = d3.axisLeft(scale)\n                .tickFormat(d3.format('d'))\n                .ticks(6);\n\n  d3.select(this.anchor.current).call(axis);\n});\n\nexport default YAxis;","// src/components/USstate/Legend.js\nimport D3blackbox from \"../D3blackbox\";\nimport * as d3 from \"d3\";\nimport React, {Component} from \"react\";\nimport _ from \"lodash\";\n\nconst lineColors = ['purple', 'magenta'];\nconst lineTitles = ['Mental Health', 'Physical Health']\n\n\nclass Legend extends Component {\n\n  render() {\n\n    return (\n      <g>\n        {lineColors.map(function (d,i) {\n          return (\n            <g key={i}>\n              <circle\n                style={{fill: lineColors[i], width: 20, height: 20, stroke: 'gray'}}\n                cx={210 + 110*i}\n                cy={20}\n                title={lineTitles[i]}\n                r={4}\n              />\n              <text fontSize={12} x={219 +110*i} y={25}>{lineTitles[i]}</text>\n              <text fontSize={12} x={205 +110*i} y={40} style={{fill: lineColors[i]}}><tspan fontSize={14}>--- </tspan>US Avg</text>\n\n            </g>\n          )\n          }\n        )};\n\n\n        <circle\n            style={{fill: \"darksalmon\", width: 20, height: 20, stroke: 'gray'}}\n            cx={30}\n            cy={237}\n            title={\"Per Capita Spending\"}\n            r={4}\n          />\n          <text fontSize={12} x={39} y={242}>Per Capita Spending</text>\n\n      </g>\n\n    );\n  };\n}\n\nexport default Legend;\n\n//\n// // Handmade legend\n// svg.append(\"circle\").attr(\"cx\",200).attr(\"cy\",130).attr(\"r\", 6).style(\"fill\", \"#69b3a2\")\n// svg.append(\"circle\").attr(\"cx\",200).attr(\"cy\",160).attr(\"r\", 6).style(\"fill\", \"#404080\")\n// svg.append(\"text\").attr(\"x\", 220).attr(\"y\", 130).text(\"variable A\").style(\"font-size\", \"15px\").attr(\"alignment-baseline\",\"middle\")\n// svg.append(\"text\").attr(\"x\", 220).attr(\"y\", 160).text(\"variable B\").style(\"font-size\", \"15px\").attr(\"alignment-baseline\",\"middle\")\n","// src/components/LineGraph/LineGraph.js\n\nimport React, { Component } from 'react';\nimport * as d3 from 'd3';\nimport _ from 'lodash';\n\nimport AvgLine from \"./AvgLine\";\nimport XAxis from \"./XAxis\";\nimport YAxis from \"./YAxis\";\nimport Legend from \"./Legend\";\n\nclass LineGraph extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  yearValue(a,b) {\n    return {\n      year: parseInt(b),\n      days: parseInt(a)\n    }\n  };\n\n  dollarValue(a,b) {\n    return {\n      year: parseInt(b),\n      amount: parseInt(a)\n    }\n  };\n\n  scoreValue(a,b) {\n    return {\n      year: parseInt(b),\n      score: a\n    }\n  };\n\n  circleMark(year,days){\n    return (\n      <circle\n        key={year}\n        style={{fill: \"white\", width: 2, height: 2, stroke: 'gray'}}\n        cx={year + 20}\n        cy={days}\n        title={null}\n        r={3}\n      />\n    )\n  }\n\n  label(year,yAmount,amount){\n    return (\n      <text\n        key={year}\n        style={{fill: \"black\", width: 2, height: 2, stroke: 'none', fontSize: '10'}}\n        x={year + 22}\n        y={147 + yAmount}\n        title={null}\n        r={3}\n      >\n        ${amount.toLocaleString()}\n      </text>\n    )\n  }\n\n  render() {\n\n    const { zoomToState, values, mentalHealthDays, physHealthDays, genHealthScore, statePerCapitaValues,\n      USmentalMean, USphysicalMean} = this.props;\n\n\n    const height = 250;\n    const width = 400;\n\n    const xScale  = d3.scaleLinear()\n      .domain([2011, 2017]).range([0,width])\n\n    const yScaleCapita = d3.scaleLinear()\n      .domain([0, 14000]).range([120, 0])\n\n    const yScale = d3.scaleLinear()\n      .domain([0, 31])\n      .range([height, 0])\n\n    const line = d3.line()\n      .x((d)=>xScale(d.year) + 20)\n      .y((d)=>yScale(d.days))\n\n     const capitaLine = d3.line()\n      .x((d)=>xScale(d.year) + 20)\n      .y((d)=>yScaleCapita(d.amount))\n\n    const mentalData = _.find(mentalHealthDays, {state:zoomToState});\n    const physData = _.find(physHealthDays, {state:zoomToState});\n    const genData = _.find(genHealthScore, {state:zoomToState});\n    const capitaData = _.find(statePerCapitaValues, {state:zoomToState});\n\n    const mentalHealthData =  _.map(mentalData.numDaysPerYear, (a,b) =>this.yearValue(a,b));\n    const physHealthData =  _.map(physData.numDaysPerYear, (a,b) =>this.yearValue(a,b));\n    const genHealthData =  _.map(genData.scorePerYear, (a,b) =>this.scoreValue(a,b));\n\n    const perCapitaData = _.map(capitaData.years, (a,b) =>this.dollarValue(a,b));\n    const perCapitaSlice = perCapitaData.slice(10, 18);\n    const genHealthMean = d3.mean(genHealthData, (d) => d.score);\n\n    return (\n      <g>\n        <text x={575} y={65} fontWeight={\"bold\"} fill={\"rgb(63, 59, 54)\"}>Mental and Physical Healthy Days Per Month</text>\n        <svg x={520} y={80}>\n          <Legend />\n          {/*<text*/}\n              {/*x={width +20}*/}\n              {/*y={yScale(USmentalMean) - 12}*/}\n              {/*textAnchor=\"end\"*/}\n              {/*fontSize={12}*/}\n              {/*fill={\"gray\"}*/}\n          {/*>US average*/}\n          {/*</text>*/}\n\n          <AvgLine x={520}\n                   y={10}\n                   width={400}\n                   height={250}\n                   bottomMargin={5}\n                   mean={USmentalMean}\n                   lineColor={\"purple\"}\n          />\n          <AvgLine x={520}\n                   y={10}\n                   width={400}\n                   height={250}\n                   bottomMargin={5}\n                   mean={USphysicalMean}\n                   lineColor={\"magenta\"}\n          />\n\n          <path className=\"line\"\n                d={line(mentalHealthData)}\n                fill={\"none\"}\n                stroke={\"purple\"}\n                strokeWidth={2}\n          />\n          <path className=\"line\"\n                d={line(physHealthData)}\n                fill={\"none\"}\n                stroke={\"magenta\"}\n                strokeWidth={2}\n          />\n          <svg y={135}>\n            <path className=\"line\"\n               d={capitaLine(perCapitaSlice)}\n               fill={\"none\"}\n               stroke={\"darksalmon\"}\n               strokeWidth={2}\n            />\n            {_.map(perCapitaSlice, (d) => this.circleMark(xScale(d.year),yScaleCapita(d.amount)))}\n          </svg>\n          {_.map(perCapitaSlice, (d) => this.label(xScale(d.year),yScaleCapita(d.amount), d.amount))}\n\n          {_.map(mentalHealthData, (d) => this.circleMark(xScale(d.year),yScale(d.days)))}\n          {_.map(physHealthData, (d) => this.circleMark(xScale(d.year),yScale(d.days)))}\n\n\n          <text x={30} y={35} transform={\"rotate(-90 30 30)\"} className={\"axisLabel\"} fill={'rgb(111, 106, 101)'}>Days</text>\n          <text x={388} y={245} className={\"axisLabel\"} fill={'rgb(111, 106, 101)'}>Years</text>\n\n          <XAxis x={20} y={height} />\n          <YAxis x={20} y={0} />\n\n\n\n          <circle cx={80} cy={330} r={30} fill={\"#a4bec8\"} />\n          <text x={65} y={335} fontWeight={\"bold\"}>{genHealthMean.toFixed(2)}</text>\n          <text x={120} y={327} fontWeight={\"bold\"}>Avg. general health indicator </text>\n          <text x={120} y={343} fontSize={12} wordSpacing={2}>1=Very Good 2=Good 3=Ok 4=Poor 5=Very Poor</text>\n          <text x={20} y={390} dy={0} width={200} height={50} fontSize={12}>\n            <tspan x={20} dy={\"1.2em\"}>Respondants answered a series of questions which were distilled into general,</tspan>\n            <tspan x={20} dy={\"1.2em\"}>physical and mental health scores.  For a summary on the analysis, take a</tspan>\n            <tspan x={20} dy={\"1.2em\"}>look at our\n            <tspan className={\"datalink\"}> <a href=\"https://github.gatech.edu/Team129/BRFSSProject/blob/master/models/brfss_data_lib.ipynb\">\n               BRFSS Survey Questions Analysis</a></tspan>.</tspan>\n          </text>\n        </svg>\n\n      </g>\n    )\n  }\n\n}\n\nexport default LineGraph;","// src/components/DataContent/StateTitle.js\n\nimport React, { Component } from 'react';\nimport * as d3 from 'd3';\nimport _ from 'lodash';\n\nimport StateTitle from './StateTitle';\nimport LineGraph from \"../LineGraph/LineGraph\";\n\nclass DataContent extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n\n  render() {\n    const { zoomToState, values, mentalHealthDays, physHealthDays, genHealthScore, statePerCapitaValues, USperCapitaMean,\n      phiPerCapitaMean, sortedCapitas, USmentalMean, USphysicalMean, capitaMeanPercentage, phiMeanPercentage} = this.props;\n\n    let capitaMean = 0;\n    if(USperCapitaMean > 0) {\n       capitaMean = parseInt((USperCapitaMean.toFixed(2))).toLocaleString();\n    }\n\n    //should manage in state put running out of time to set up properly\n    let phiMean = 0;\n    if(phiPerCapitaMean > 0) {\n       phiMean = parseInt((phiPerCapitaMean)).toLocaleString();\n    }\n    let USavgPhi = 0;\n    if(phiMeanPercentage > 0) {\n       USavgPhi = phiMeanPercentage.toFixed(2);\n    }\n    let USavgCapita = 0;\n    if(capitaMeanPercentage > 0) {\n       USavgCapita = capitaMeanPercentage.toFixed(2);\n    }\n\n    let cap1, cap2, cap3, cap4, cap5, cap6;\n    let st1, st2, st3, st4, st5, st6;\n    cap1=cap2=cap3=cap4=cap5=cap6=st1=st2=st3=st4=st5=st6 = \"--\";\n\n    if (sortedCapitas.length > 0) {\n\n      st1 = sortedCapitas[50].state;\n      st2 = sortedCapitas[49].state;\n      st3 = sortedCapitas[48].state;\n      st4 = sortedCapitas[2].state;\n      st5 = sortedCapitas[1].state;\n      st6 = sortedCapitas[0].state;\n\n      cap1 = parseInt((sortedCapitas[50].mean)).toLocaleString();\n      cap2 = parseInt((sortedCapitas[49].mean)).toLocaleString();\n      cap3 = parseInt((sortedCapitas[48].mean)).toLocaleString();\n      cap4 = parseInt((sortedCapitas[2].mean)).toLocaleString();\n      cap5 = parseInt((sortedCapitas[1].mean)).toLocaleString();\n      cap6 = parseInt((sortedCapitas[0].mean)).toLocaleString();\n    }\n\n    if (zoomToState !== 'all') {\n      return (\n        <g>\n          <StateTitle zoomToState={zoomToState} values={values} />\n          <LineGraph  zoomToState={zoomToState}\n                      mentalHealthDays={mentalHealthDays}\n                      physHealthDays={physHealthDays}\n                      genHealthScore={genHealthScore}\n                      statePerCapitaValues={statePerCapitaValues}\n                      USmentalMean={USmentalMean}\n                      USphysicalMean={USphysicalMean} />\n        </g>\n      )\n    }\n    else {\n\n      return (\n        <g>\n          <text x={530} y={60} fontSize={24} fontWeight={\"bold\"} fill={\"#045775\"}>Overall US Healthcare Spending\n            <tspan fontSize={14}> (2000-2017)</tspan>\n          </text>\n\n          <text x={530} y={100} fontSize={18} fontWeight={\"bold\"} fill={\"#023446\"}>Average Percent Increase</text>\n          <text x={530} y={130} fontSize={16} fill={\"rgb(8, 48, 107)\"}><tspan className=\"spending\">{USavgCapita}%</tspan> Medicaid</text>\n          <text x={530} y={160} fontSize={16} fill={\"rgb(8, 48, 107)\"}><tspan className=\"spending\">{USavgPhi}%</tspan> Private Health Insurance</text>\n\n          <text x={530} y={210}fontSize={18} fontWeight={\"bold\"}>Average Spending</text>\n          <text x={530} y={240} fontSize={16} fill={\"rgb(8, 48, 107)\"}><tspan className=\"spending\">${capitaMean}</tspan> per capita</text>\n          <text x={530} y={270} fontSize={16} fill={\"rgb(8, 48, 107)\"}><tspan className=\"spending\">${phiMean}</tspan> per enrollee (private health insurance)</text>\n\n          <text x={530} y={320} fontSize={18} fontWeight={\"bold\"}>States with highest per capita spending</text>\n          <text x={530} y={350} fontSize={16} fill={\"rgb(8, 48, 107)\"}>1. {st1}: ${cap1}</text>\n          <text x={530} y={370} fontSize={16} fill={\"rgb(8, 48, 107)\"}>2. {st2}: ${cap2}</text>\n          <text x={530} y={390} fontSize={16} fill={\"rgb(8, 48, 107)\"}>3. {st3}: ${cap3}</text>\n\n          <text x={530} y={430} fontSize={18} fontWeight={\"bold\"}>States with lowest per capita spending</text>\n          <text x={530} y={460} fontSize={16} fill={\"rgb(8, 48, 107)\"}>1. {st6}: ${cap6}</text>\n          <text x={530} y={480} fontSize={16} fill={\"rgb(8, 48, 107)\"}>2. {st5}: ${cap5}</text>\n          <text x={530} y={500} fontSize={16} fill={\"rgb(8, 48, 107)\"}>3. {st4}: ${cap4}</text>\n\n\n        </g>)\n    }\n  }\n}\n\nexport default DataContent;","import React, { Component } from \"react\";\nimport * as d3 from \"d3\";\nimport _ from \"lodash\";\n\nimport './style.css';\nimport { loadData } from \"./DataHandling\";\nimport USmap from \"./components/USmap/USmap\";\nimport Controls from \"./components/Controls/\";\nimport DataContent from \"./components/DataContent\";\n\nclass App extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      sampleData: [],\n      mentalHealth: [],\n      physHealth: [],\n      genHealth: [],\n      USstateNames: [],\n      statePerCapita: [],\n      phiPerEnrollee: [],\n      USstateFilter: () => true,\n      filteredBy: {\n        USstate: \"*\",\n      },\n      USperCapitaMean: null,\n      stateLabel: \"Pick State\",\n      perCapitaChange: \"--\",\n      perCapitaMean: \"--\",\n      phiPerEnrolleeChange: \"--\",\n      phiPerEnrolleeMean:\"--\"\n    };\n\n    this.onHover = this.onHover.bind(this)\n  }\n\n\n\n  componentDidMount() {\n    loadData(data => this.setState(data));\n  }\n\n  getStateId(USstate) {\n    if (USstate != \"\") {\n      let row = _.find(this.state.USstateNames, {name: USstate});\n      return row.id;\n    }\n    return null;\n  }\n\n  getStateName(USstate) {\n    if (USstate != \"\") {\n      let row = _.find(this.state.USstateNames, {id:  parseInt(USstate.stateId)});\n      return row.name;\n    }\n  }\n\n  stateValue(state) {\n    return {\n      stateId: this.getStateId(state.State_Name),\n      state: state.State_Name,\n      percentChange : state.Average_Annual_Percent_Growth\n    };\n  }\n\n  statePerCapitaValue(state) {\n    return {\n      stateId: this.getStateId(state.State_Name),\n      state: state.State_Name,\n      years: {2001:parseInt(state.Y2001),2002:parseInt(state.Y2002),2003:parseInt(state.Y2003),\n              2004:parseInt(state.Y2004),2005:parseInt(state.Y2005),2006:parseInt(state.Y2006),\n              2007:parseInt(state.Y2007),2008:parseInt(state.Y2008),2009:parseInt(state.Y2009),\n              2010:parseInt(state.Y2010),2011:parseInt(state.Y2011),2012:parseInt(state.Y2012),\n              2013:parseInt(state.Y2013),2014:parseInt(state.Y2014),2015:parseInt(state.Y2015),\n              2016:parseInt(state.Y2016),2017:parseInt(state.Y2017)},\n      percentChange : state.Average_Annual_Percent_Growth\n    };\n  }\n\n  phiPerEnrolleeValue(state) {\n    return {\n      stateId: this.getStateId(state.State_Name),\n      state: state.State_Name,\n      years: {2001:state.Y2001,2002:state.Y2002,2003:state.Y2003,2004:state.Y2004,2005:state.Y2005,2006:state.Y2006,\n        2007:state.Y2007,2008:state.Y2008,2009:state.Y2009,2010:state.Y2010,2011:state.Y2011,2012:state.Y2012,\n        2013:state.Y2013, 2014:state.Y2014, 2015:state.Y2015, 2016:state.Y2016, 2017:state.Y2017},\n      percentChange : state.Average_Annual_Percent_Growth\n    };\n  }\n\n  mentalHealthDays(state) {\n      return {\n      stateId: state.stateId,\n      state: this.getStateName(state),\n      numDaysPerYear: { 2011: state[2011], 2012: state[2012], 2013: state[2013], 2014: state[2014],\n                        2015: state[2015], 2016: state[2016], 2017: state[2017]}\n      };\n\n    return null;\n  }\n\n  physHealthDays(state) {\n      return {\n      stateId: state.stateId,\n      state: this.getStateName(state),\n      numDaysPerYear: { 2011: state[2011], 2012: state[2012], 2013: state[2013], 2014: state[2014],\n                        2015: state[2015], 2016: state[2016], 2017: state[2017]}\n      };\n\n    return null;\n  }\n\n  genHealthDays(state) {\n      return {\n      stateId: state.stateId,\n      state: this.getStateName(state),\n      scorePerYear: { 2011: state[2011], 2012: state[2012], 2013: state[2013], 2014: state[2014],\n                        2015: state[2015], 2016: state[2016], 2017: state[2017]}\n      };\n\n    return null;\n  }\n\n  updateDataFilter = (filter, filteredBy) => {\n    //console.log('filter', filter, filteredBy);\n    this.setState({\n      USstateFilter: filter,\n      filteredBy: filteredBy\n    });\n  };\n\n  onHover = (stateName, perCapitaChange, perCapitaMean, phiPerEnrolleeChange, phiPerEnrolleeMean) => {\n    this.setState({\n      stateLabel: stateName,\n      perCapitaChange: perCapitaChange,\n      perCapitaMean: perCapitaMean,\n      phiPerEnrolleeChange: phiPerEnrolleeChange,\n      phiPerEnrolleeMean: phiPerEnrolleeMean\n    })\n  };\n\n  onStatUpdate = (USperCapitaMean) => {\n    this.setState({USperCapitaMean: USperCapitaMean})\n  }\n\n  render() {\n    const {\n      usTopoJson,\n      sampleData,\n      mentalHealth,\n      physHealth,\n      genHealth,\n      statePerCapita,\n      phiPerEnrollee,\n      USstateNames,\n      filteredBy\n    } = this.state;\n\n    const mentalHealthDays = mentalHealth.slice(0,51).map(\n      state => this.mentalHealthDays(state)\n    ).filter(d=>d.state !== \"\");\n\n    const physHealthDays = physHealth.slice(0,51).map(\n      state => this.physHealthDays(state)\n    ).filter(d=>d.state !== \"\");\n\n    const genHealthDays = genHealth.slice(0,51).map(\n      state => this.genHealthDays(state)\n    ).filter(d=>d.state !== \"\");\n\n    const stateValues = sampleData.map(\n      state => this.stateValue(state)\n    ).filter(d => d.state !== \"\");\n\n    const statePerCapitaValues = statePerCapita.map(\n      state => this.statePerCapitaValue(state)\n    ).filter(d => d.state !== \"\");\n\n    const phiPerEnrolleeValues = phiPerEnrollee.map(\n      state => this.phiPerEnrolleeValue(state)\n    ).filter(d => d.state !== \"\");\n\n    let zoomToState = 'all';\n    if (filteredBy.USstate !== '*') {\n      zoomToState = this.state.filteredBy.USstate;\n    }\n\n    const formattedPerCapitaYears = []\n\n    const UScapita =  statePerCapitaValues.map(\n      state => _.each(state.years, (a) => {\n          formattedPerCapitaYears.push({'year': a});\n        })\n    );\n\n    const capita = []\n    _.map(statePerCapitaValues, (state) => {\n      const values = Object.values(state[\"years\"]);\n        const mean = d3.mean(values, (d) => {\n          return d;\n        });\n        capita.push({'state':state[\"state\"], 'mean':mean})\n    });\n\n    const sortedCapitas =_.sortBy(capita, ['mean', 'state']);\n    const USperCapita = d3.mean(formattedPerCapitaYears, (d) => {\n      return d.year;\n    });\n\n    const formattedPhiYears = []\n    const phiCapita =  phiPerEnrolleeValues.map(\n      state => _.each(state.years, (a,b) => {\n          formattedPhiYears.push({'year': a, 'test':b});\n        })\n    );\n\n    const phiPerCapitaMean = d3.mean(formattedPhiYears, (d) => {\n      return d.year;\n    });\n\n    const mentalMean = []\n    _.map(mentalHealthDays, (state) => {\n      const values = Object.values(state[\"numDaysPerYear\"]);\n        const mean = d3.mean(values, (d) => {\n          return d;\n        });\n        mentalMean.push({'state':state[\"state\"], 'mean':mean})\n    });\n    let USmentalMean = 0;\n    USmentalMean = d3.mean(mentalMean, (d) => {\n      return d.mean;\n    });\n\n    const getMentalMean= () => {\n      if (USmentalMean > 0) {\n        return USmentalMean.toFixed(2);\n      }\n      return USmentalMean;\n    }\n\n    let physicalMean = []\n    _.map(physHealthDays, (state) => {\n      const values = Object.values(state[\"numDaysPerYear\"]);\n        const mean = d3.mean(values, (d) => {\n          return d;\n        });\n        physicalMean.push({'state':state[\"state\"], 'mean':mean})\n    });\n\n    let USphysicalMean = 0;\n    USphysicalMean = d3.mean(physicalMean, (d) => {\n      return d.mean;\n    });\n\n\n    const getUSphysicalMean= () => {\n      if (USphysicalMean > 0) {\n        return USphysicalMean.toFixed(2);\n      }\n      return 0;\n    }\n\n    const capitaMeanPercentage = d3.mean(statePerCapitaValues, (d) => {\n      return d.percentChange;\n    });\n\n    const phiMeanPercentage = d3.mean(phiPerEnrolleeValues, (d) => {\n      return d.percentChange;\n    });\n\n    return (\n       <div className=\"App container\" id=\"main\">\n         <h1 style={{\"marginBottom\":\"15px\"}}>Health Care Spending and Healthiness in the US</h1>\n         <p style={{\"marginTop\":\"15px\",\"width\":\"1000px\"}}><strong>Project Summary: </strong>The project attempts to show the relationship between health care spending and overall healthiness using data from\n           the Behavioral Risk Factor Surveillance System (BRFSS) and from the Centers for Medicare and Medicaid Services (CMS).\n           The visualization shows the comparison of health and spending across the US and for each state.\n         </p>\n         {/*<div>{sortedCapitas[0].state}</div>*/}\n         <Controls\n           data={sampleData}\n           updateDataFilter={this.updateDataFilter}\n           />\n         <svg width=\"1000\" height=\"550\">\n           <rect x={0} y={0} width={1000} height={550} fill={\"#fcf8f5\"} ></rect>\n           <USmap usTopoJson={usTopoJson}\n                  USstateNames={USstateNames}\n                  x={0}\n                  y={50}\n                  width={500}\n                  height={400}\n                  zoomToState={zoomToState}\n                  values={stateValues}\n                  updateDataFilter={this.updateDataFilter}\n                  onHover={this.onHover}\n                  stateData={this.state.label}\n                  statePerCapitaValues={statePerCapitaValues}\n                  phiPerEnrolleeValues={phiPerEnrolleeValues}\n                  sortedCapitas={sortedCapitas}\n           />\n\n           <rect x={0} y={425} width={500} height={125} fill={\"#dae3df\"} ></rect>\n           <rect x=\"500\"\n                 y=\"0\"\n                 width=\"500\"\n                 height=\"600\"\n                 style={{ fill: \"#f6f0ea\" }}\n           />\n           <DataContent zoomToState={zoomToState}\n                        values={stateValues}\n                        mentalHealthDays={mentalHealthDays}\n                        physHealthDays={physHealthDays}\n                        genHealthScore={genHealthDays}\n                        statePerCapitaValues={statePerCapitaValues}\n                        onStatUpdate={this.onStatUpdate}\n                        USperCapitaMean={USperCapita}\n                        USmentalMean={getMentalMean()}\n                        USphysicalMean={getUSphysicalMean()}\n                        phiPerCapitaMean={phiPerCapitaMean}\n                        sortedCapitas={sortedCapitas}\n                        phiMeanPercentage={phiMeanPercentage}\n                        capitaMeanPercentage={capitaMeanPercentage}\n           />\n           <rect x={1} y={1} width={500} height={40} fill={\"#023446\"} ></rect>\n           <text x={15} y={28} fill={\"#abe2c9\"} fontSize={20} fontWeight={\"500\"}>Healthcare Spending in the US</text>\n\n           <rect x={0} y={0} width={1000} height={550} fill={\"none\"} stroke={\"black\"} ></rect>\n\n           <text x={15} y={450} className={\"stateData\"} fontWeight={\"bold\"}>Health Care Spending by State (2000-2017)</text>\n           <text x={15} y={472} className={\"stateData\"}>State: {this.state.stateLabel}</text>\n           <text x={15} y={495} className={\"stateData\"} fontWeight={\"bold\"} fontSize={13}>State Medicaid</text>\n           <text x={15} y={515} className={\"stateData\"}>Ave. Yearly Increase: {this.state.perCapitaChange}%</text>\n           <text x={15} y={535} className={\"stateData\"}>Per Capita: ${this.state.perCapitaMean}</text>\n           <text x={250} y={495} className={\"stateData\"} fontWeight={\"bold\"} fontSize={13}>Private Health Insurance</text>\n           <text x={250} y={515} className={\"stateData\"}>Ave. Yearly Increase: {this.state.phiPerEnrolleeChange}%</text>\n           <text x={250} y={535} className={\"stateData\"}>Per Capita: ${this.state.phiPerEnrolleeMean}</text>\n         </svg>\n\n       </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}